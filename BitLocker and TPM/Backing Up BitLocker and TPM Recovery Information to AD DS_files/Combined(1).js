typeof Sto=="undefined"&&(Sto={});Sto.Megablade=function(){function initialjQueryAndMegablade(){if(typeof jQuery=="undefined"){var js=document.createElement("script");js.type="text/javascript";js.async=!0;js.src=typeof jQueryUrl!="undefined"&&jQueryUrl!=undefined&&jQueryUrl.length!=0?jQueryUrl:"//ajax.aspnetcdn.com/ajax/jQuery/jquery-1.9.1.min.js";js.addEventListener?js.addEventListener("load",initialMegablade,!1):js.readyState&&(js.onreadystatechange=function(){(this.readyState=="complete"||this.readyState=="loaded")&&initialMegablade()});document.getElementsByTagName("head")[0].appendChild(js)}else initialMegablade()}function openMenu(){var $bladeItems=$megablade.find(".bladeItemMenuContainer .bladeItemMenu"),bladeItemMenuHeight=0;$bladeItems.each(function(){var currentHeight=$(this).outerHeight();bladeItemMenuHeight<currentHeight&&(bladeItemMenuHeight=currentHeight)});$megablade.find(".bladeItemMenuContainer").height(bladeItemMenuHeight);$megablade.find(".menuContainerLayoutSplashGuard").each(function(){var $that=$(this),splashTopMargin=$that.css("margin-top").replace("px","");splashTopMargin.length>0&&$that.height(bladeItemMenuHeight-splashTopMargin*2)});useIFrame&&iframe&&(iframe.style.height=bladeItemMenuHeight+25+"px")}function closeMenu(){useIFrame&&iframe&&(iframe.style.height="20px")}function anchorClickHandler(that,text){return useIFrame?(parent.location=$(that).attr("href"),!1):!0}function initBrowserDetect(){jQuery.uaMatch=function(ua){ua=ua.toLowerCase();var match=/(chrome)[ \/]([\w.]+)/.exec(ua)||/(webkit)[ \/]([\w.]+)/.exec(ua)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(ua)||/(msie) ([\w.]+)/.exec(ua)||ua.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(ua)||[];return{browser:match[1]||"",version:match[2]||"0"}};jQuery.browser||(matched=jQuery.uaMatch(navigator.userAgent),browser={},matched.browser&&(browser[matched.browser]=!0,browser.version=matched.version),browser.chrome?browser.webkit=!0:browser.webkit&&(browser.safari=!0),jQuery.browser=browser)}function initialMegablade(){$(document).ready(function(){var $megabladeIframe,$iframeContents,$megabladeMenuContainer;if(initBrowserDetect(),$megabladeIframe=$("iframe#megabladeIframe"),$megabladeIframe.length>0){if($iframeContents=$("div#iframeContents"),$iframeContents.length>0){if($iframeContents.html().length==0)return;$megabladeIframe.contents().find("body").css("background-color","transparent").css("margin","0px").append($iframeContents.html());$iframeContents.html("")}useIFrame=!0;iframe=$megabladeIframe[0];iframe.style.display="";$megablade=$megabladeIframe.contents().find("#megabladeContainer")}else $megablade=$("#megabladeContainer");$megabladeMenuContainer=$megablade.find("div.bladeItemMenuContainer");$megablade.show();$megablade.find("div.menuContainerLayout").delegate("a","click",function(){anchorClickHandler(this,$(this).parents("div.bladeItemMenu").attr("data-value"))});$megablade.find("ul#megabladeItems").delegate("li.Logo a","click",function(){anchorClickHandler(this,"TechNet")}).delegate("li.bladeItemWithMenu","click",function(){var val=$(this).attr("data-value"),$selected,containerCenter;omnitureTracking&&(useIFrame&&typeof parent.t_omni_utils!="undefined"?parent.t_omni_utils.omniModTracking(!0,"megablade",val,val,0,val,""):typeof t_omni_utils!="undefined"&&t_omni_utils.omniModTracking(!0,"megablade",val,val,0,val,""));resetBladeItems();$selected=$megablade.find("div[data-value="+val+"]");$selected.siblings().hide();containerCenter=$megablade.find("#megabladeContainerCenter");$("html").attr("dir")!="rtl"?$megabladeMenuContainer.css("left",containerCenter.offset().left+"px"):$megabladeMenuContainer.css("right",($(document).width()-containerCenter.width())/2+"px");$selected.toggle();$selected.is(":visible")?($(this).find(".caret").addClass("caretActive"),$(this).addClass("bladeItemExpanded"),openMenu()):($(this).find(".caret").removeClass("caretActive"),$(this).removeClass("bladeItemExpanded"),closeMenu());$(this).addClass("bladeItemActive")}).delegate("li.bladeItemWithLink a","click",function(){anchorClickHandler(this,$(this).text())}).delegate("li.bladeItem","hover",function(){$(this).toggleClass("bladeItemActive")});$megablade.find("li a.label").focus(function(){$("li.bladeItem").removeClass("bladeItemActive");$(this).parent().addClass("bladeItemActive")});$megablade.find("li a.label").blur(function(){$(this).parent().removeClass("bladeItemActive")});$megablade.find("div.bladeItemMenu").mouseleave(function(e){if($.browser.mozilla&&!(e.toElement||e.relatedTarget)&&e.eventPhase==3||e.pageY<20)return!1;resetBladeItems();$(this).hide()}).mouseenter(function(){$megablade.find("li.bladeItem[data-value="+$(this).data("value")+"]").addClass("bladeItemExpanded")});$megablade.find("img[data-src]").each(function(){var $img=$(this);$img.attr("src",$img.attr("data-src")).removeAttr("data-src")})})}function resetBladeItems(){$megablade.find("span.caret").removeClass("caretActive");$megablade.find("li.bladeItem").removeClass("bladeItemExpanded bladeItemActive");closeMenu()}var useIFrame=!1,iframe=null,$megablade=null;return{initialjQueryAndMegablade:initialjQueryAndMegablade}}();Sto.Megablade.initialjQueryAndMegablade();;
(function(){var searchBoxModule=function($){window.Epx=window.Epx||{};window.Epx.Controls=window.Epx.Controls||{};Epx.Controls.SearchBox=function(){function contractSearch(){if(searchInMotion!=!0&&$searchBox.width()!=0){searchInMotion=!0;$searchBox.css("padding","0");var s=setInterval(function(){curWidth-=shrinkWidthByMod;shrinkWidthByMod*=widthAcceleration;curWidth<=0&&(curWidth=0,window.clearInterval(s),searchInMotion=!1,shrinkWidthByMod=widthMod);$searchBox.css("width",curWidth+"px")},10);window.removeEventListener("click",contractSearch,!1);window.removeEventListener("blur",contractSearch,!1);window.removeEventListener("touchend",contractSearch,!1)}}function expandSearch(){if(searchInMotion!=!0){searchInMotion=!0;$searchBox.css("padding","0 0 3px 6px");var s=setInterval(function(){curWidth+=growWidthByMod;growWidthByMod*=widthAcceleration;curWidth>=maxWidthForSearchBox&&(curWidth=maxWidthForSearchBox,window.clearInterval(s),searchInMotion=!1,growWidthByMod=widthMod);$searchBox.css("width",curWidth+"px")},10);window.addEventListener("click",contractSearch,!1);window.addEventListener("blur",contractSearch,!1);window.addEventListener("touchend",contractSearch,!1)}}function watermarkFocus(e,watermark){$searchBox.val()==watermark&&$searchBox.val("");isSearchCollapsedByDefault&&expandSearch();$searchBoxDiv.addClass("SearchBoxOnFocus")}function watermarkBlur(e,watermark){$searchBox.val().trim()==""&&($searchBox.val(watermark),isSearchCollapsedByDefault&&contractSearch(e));$searchBoxDiv.removeClass("SearchBoxOnFocus")}function searchBoxOnSubmit(control){return $searchBox.val()!=watermark&&$searchBox.val()!=""?(control.submit(),!0):!1}var $searchBox,$searchBoxButton,$searchBoxDiv,isSearchCollapsedByDefault,$showHideButton,searchInMotion=!1,curWidth=0,widthMod,widthAcceleration,growWidthByMod,shrinkWidthByMod,maxWidthForSearchBox;return $(document).ready(function(){var parametersForSearchAnimation,params;($searchBox=$("#HeaderSearchTextBox"),$searchBoxDiv=$searchBox.parent().parent(),$showHideButton=$("#ShowSearchBoxButton"),$searchBoxButton=$("#HeaderSearchButton"),isSearchCollapsedByDefault=$showHideButton.length>0,isSearchCollapsedByDefault)&&(maxWidthForSearchBox=220,widthMod=45,widthAcceleration=.8,parametersForSearchAnimation=$("input#parametersForSearchAnimation").val(),parametersForSearchAnimation&&(params=parametersForSearchAnimation.split(","),params.length==3&&(maxWidthForSearchBox=parseInt(params[0],10),widthMod=parseInt(params[1],10),widthAcceleration=parseFloat(params[2],10))),growWidthByMod=widthMod,shrinkWidthByMod=widthMod,$searchBoxButton.hide(),$showHideButton.show(),$showHideButton.click(function(event){$searchBox.width()==0?$searchBox[0].focus():$searchBox.val().trim()!=""?$searchBoxButton.click():contractSearch(event);event.stopPropagation()}),$searchBox.click(function(event){event.stopPropagation()}))}),{watermarkFocus:watermarkFocus,watermarkBlur:watermarkBlur,searchBoxOnSubmit:searchBoxOnSubmit,contractSearch:contractSearch}}()};typeof define=="function"&&window.mtpsAmd?define("searchBox",["jquery"],function($){return searchBoxModule($)}):searchBoxModule($)})();;
